<!doctype html>
<html lang="fr">
	<head>
		<meta charset="utf-8" />
		<title>AsciiNote</title>
		<script>
			// Appliquer le thème immédiatement
			(function() {
				try {
					const theme = localStorage.getItem('theme') ||
							(window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');

					document.documentElement.setAttribute('data-theme', theme);

					if (theme === 'dark') {
						document.documentElement.classList.add('dark');
					}

					// Marquer que le thème est en cours de chargement
					document.documentElement.classList.add('theme-loading');

					// Activer les transitions après le chargement complet
					window.addEventListener('load', function() {
						setTimeout(function() {
							document.documentElement.classList.remove('theme-loading');
							document.documentElement.classList.add('theme-ready');
						}, 100);
					});
				} catch (e) {
					// Ignorer les erreurs
				}
			})();
		</script>

		<link rel="icon" href="%sveltekit.assets%/favicon.png" />
		<link rel="manifest" href="%sveltekit.assets%/manifest.json" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="theme-color" content="#4a90e2" />
		<meta name="description" content="AsciiNote - " />
		<link rel="apple-touch-icon" href="%sveltekit.assets%/icon-192x192.png" />
		%sveltekit.head%

	</head>
	<body data-sveltekit-preload-data="hover" class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100">
		<div class="contents">%sveltekit.body%</div>
	</body>
</html>